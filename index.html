<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Character Match Move</title>
  <script src="https://cdn.jsdelivr.net/npm/phaser@3.70.0/dist/phaser.js"></script>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<div id="startScreen">
  <h1 class="title">Character Match Move</h1>
  <p class="subtitle">ë¹ ë¥¸ íŒë‹¨ë ¥ê³¼ ë°˜ì‚¬ì‹ ê²½ì„ í…ŒìŠ¤íŠ¸í•˜ëŠ” ê²Œì„</p>
  
  <div class="instructions">
    <h3>ê²Œì„ ê·œì¹™</h3>
    <p><strong>â† â†’</strong> ì™¼ìª½/ì˜¤ë¥¸ìª½ ê·¸ë£¹ì— ì†í•˜ëŠ” ì´ë¯¸ì§€ê°€ ë‚˜ì˜¤ë©´ í•´ë‹¹ ë°©í–¥í‚¤ë¥¼ ëˆ„ë¥´ì„¸ìš”</p>
    <p><strong>ìŠ¤í˜ì´ìŠ¤ë°”</strong> ê°€ì‹œê³ ê¸°ê°€ ë‚˜ì˜¤ë©´ ìŠ¤í˜ì´ìŠ¤ë°”ë¥¼ ëˆ„ë¥´ì„¸ìš”</p>
    <p><strong>ì ìˆ˜:</strong> ì •ë‹µ +1ì , ì˜¤ë‹µ -2ì </p>
    <p><strong>ì‹œê°„:</strong> 60ì´ˆ ì œí•œ</p>
  </div>
  
  <button class="startButton" onclick="startGame()">ê²Œì„ ì‹œì‘</button>
</div>

<div id="gameContainer"></div> <!-- ê²Œì„ ìº”ë²„ìŠ¤ -->

<div id="endScreen">
  <h1 class="gameOverTitle">ê²Œì„ ì¢…ë£Œ!</h1>
  <div class="finalScore" id="finalScoreText">ìµœì¢… ì ìˆ˜: 0</div>
  <p class="scoreMessage" id="scoreMessage">ì˜ í–ˆì–´ìš”!</p>
  
  <div class="gameButtons">
    <button class="restartButton" onclick="restartGame()">ë‹¤ì‹œ í•˜ê¸°</button>
    <button class="homeButton" onclick="goHome()">ì²˜ìŒìœ¼ë¡œ</button>
  </div>
</div>

<script src="game.js"></script>

<script>
function startGame() {
  document.getElementById('startScreen').style.display = 'none';
  document.getElementById('endScreen').classList.remove('active');
  const gameContainer = document.getElementById('gameContainer');
  gameContainer.style.display = 'flex';
  gameContainer.classList.add('active');
  initializeGame(); // ê²Œì„ ì´ˆê¸°í™” ë° ì‹œì‘
}

function showEndScreen(finalScore) {
  document.getElementById('gameContainer').classList.remove('active');
  document.getElementById('gameContainer').style.display = 'none';
  
  // ì ìˆ˜ì— ë”°ë¥¸ ë©”ì‹œì§€ ì„¤ì •
  let message = '';
  if (finalScore >= 50) {
    message = 'ğŸ† ì™„ë²½í•´ìš”! ìµœê³ ì˜ ì‹¤ë ¥ì…ë‹ˆë‹¤!';
  } else if (finalScore >= 30) {
    message = 'ğŸ‰ í›Œë¥­í•´ìš”! ì •ë§ ì˜í–ˆìŠµë‹ˆë‹¤!';
  } else if (finalScore >= 15) {
    message = 'ğŸ‘ ì¢‹ì•„ìš”! ë” ì—°ìŠµí•˜ë©´ ë” ì˜í•  ìˆ˜ ìˆì–´ìš”!';
  } else if (finalScore >= 10) {
    message = 'ğŸ˜Š ê´œì°®ì•„ìš”! ë‹¤ìŒì—” ë” ì˜í•  ìˆ˜ ìˆì„ ê±°ì˜ˆìš”!';
  } else {
    message = 'ğŸ’ª ì—°ìŠµì´ í•„ìš”í•´ìš”! í¬ê¸°í•˜ì§€ ë§ê³  ë‹¤ì‹œ ë„ì „í•´ë³´ì„¸ìš”!';
  }
  
  document.getElementById('finalScoreText').textContent = 'ìµœì¢… ì ìˆ˜: ' + finalScore;
  document.getElementById('scoreMessage').textContent = message;
  document.getElementById('endScreen').classList.add('active');
}

function restartGame() {
  document.getElementById('endScreen').classList.remove('active');
  const gameContainer = document.getElementById('gameContainer');
  gameContainer.style.display = 'flex';
  gameContainer.classList.add('active');
  initializeGame(); // ê²Œì„ ë‹¤ì‹œ ì‹œì‘
}

function goHome() {
  document.getElementById('endScreen').classList.remove('active');
  document.getElementById('startScreen').style.display = 'flex';
}
</script>

</body>
</html>
